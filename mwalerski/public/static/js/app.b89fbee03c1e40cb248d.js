webpackJsonp([1],[,,function(e,t,a){"use strict";var s=a(5),i=a.n(s),n={apiKey:"AIzaSyDehA5ITh0QsR8VL0xcaMmmiI7sQee-5m0",authDomain:"m-walerski.firebaseapp.com",databaseURL:"https://m-walerski.firebaseio.com",storageBucket:"m-walerski.appspot.com",messagingSenderId:"815071267600"},r=i.a.initializeApp(n),l=r.database(),c=r.storage().ref();t.a={PROJECT_NAME:"Mehdi Walerski",getEmptyPage:function(){return{title:"",slug:"",created:"",updated:"",type:"basic",published:!1,locked:!1}},getEmptySlice:function(){return{name:"",content:"",visible:!0,css_class:"",locked:!1}},getEmptyFile:function(){return{name:"",url:""}},db:l,storage:c,errorMessages:{SLUG_EXIST:"Page slug already exist",PAGE_ADDED:"Page added",PAGE_EDITED:"Page edited",SLICE_ADDED:"Slice added",SLICE_EDITED:"Slice edited",SLICE_REMOVED:"Slice removed",LOADING:"Loading",ERROR:"Error while update, please retry."}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){a(145);var s=a(1)(a(131),a(173),"data-v-235c4208",null);e.exports=s.exports},function(e,t,a){a(144);var s=a(1)(a(132),a(172),"data-v-1821e482",null);e.exports=s.exports},function(e,t,a){"use strict";var s=a(7),i=a(183),n=a(162),r=a.n(n),l=a(169),c=a.n(l),o=a(167),u=a.n(o),d=a(170),f=a.n(d),v=a(165),p=a.n(v);s.a.use(i.a),t.a=new i.a({routes:[{path:"/",name:"Home",component:c.a,meta:{title:"Home"}},{path:"/admin",name:"HomeBack",component:r.a},{path:"/admin/edit/:page_id",name:"PageEdit",component:u.a},{path:"/page/:page_slug",name:"PageView",component:f.a},{path:"/login",name:"Login",component:p.a}]})},,,function(e,t,a){a(150);var s=a(1)(a(130),a(177),null,null);e.exports=s.exports},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a(2);t.default={name:"app",data:function(){return{title:""}},filters:{truncate:function(e,t){return e.substring(0,t)+"..."}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),i=a(5),n=a.n(i);t.default={name:"header-back",data:function(){return{title:s.a.PROJECT_NAME,email:""}},methods:{signOut:function(){var e=this;n.a.auth().signOut().then(function(){e.$router.push("/login")},function(e){console.error("Sign Out Error",e)})}},created:function(){var e=n.a.auth().currentUser;e?this.email=e.email:this.$router.push("/login")}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"slug-field",props:["stringToSlug"],data:function(){return{slug:""}},methods:{slugify:function(e){e=e.replace(/^\s+|\s+$/g,""),e=e.toLowerCase();for(var t="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",a="aaaaeeeeiiiioooouuuunc------",s=0,i=t.length;s<i;s++)e=e.replace(new RegExp(t.charAt(s),"g"),a.charAt(s));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}},watch:{stringToSlug:function(){this.slug=this.slugify(this.stringToSlug)},slug:function(){this.$emit("update",this.slug)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(163),i=a.n(s),n=a(164),r=a.n(n),l=a(123),c=a.n(l);t.default={name:"home-back",data:function(){return{msg:""}},components:{PageCreate:i.a,PageList:r.a,HeaderBack:c.a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),i=a(6),n=a.n(i),r=a(0),l=a.n(r),c=a(124),o=a.n(c);t.default={name:"page-create",firebase:{pages:s.a.db.ref("pages")},components:{SlugField:o.a},data:function(){return{newPage:s.a.getEmptyPage(),slug:"",stringToSlug:"",title:""}},methods:{updatePageSlug:function(e){this.slug=e},addPage:function(){var e=this.newPage;e.title=this.title,e.slug=this.slug,e.created=e.updated=l()().format("x"),this.$firebaseRefs.pages.push(e),e.title=e.slug=e.created=e.updated=this.slug=this.title="",n.a.success(s.a.errorMessages.PAGE_ADDED)},validate:function(){var e=this;this.$firebaseRefs.pages.orderByChild("slug").equalTo(this.slug).once("value").then(function(t){t.exists()?n.a.error(s.a.errorMessages.SLUG_EXIST):e.addPage()})}},computed:{active:function(){return""!=this.slug}},watch:{title:{handler:function(){this.stringToSlug=this.title},sync:!0}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),i=a(6),n=a.n(i),r=a(0),l=a.n(r);t.default={name:"page-list",firebase:{pages:s.a.db.ref("pages")},data:function(){return{msg:s.a.test}},methods:{clonePage:function(e){var t={},a=this.$firebaseRefs.pages.push(t);this.$firebaseRefs.pages.child(e[".key"]).once("value",function(e){var t=e.val();t.created=t.updated=l()().format("x"),t.slug=t.slug+"-c",a.set(t,function(e){e&&"undefined"!=typeof console&&console.error&&console.error(e)})})},editPage:function(e){this.$router.push("/admin/edit/"+e[".key"])},removePage:function(e){this.$firebaseRefs.pages.child(e[".key"]).remove(),n.a.success("Page removed successfully")}},computed:{active:function(){return""!=this.slug}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),i=a(5),n=a.n(i);t.default={name:"Login",data:function(){return{title:s.a.PROJECT_NAME,email:"",pwd:"",error:""}},methods:{login:function(){var e=this;n.a.auth().signInWithEmailAndPassword(this.email,this.pwd).then(function(){e.$router.push("/admin")}).catch(function(t){console.log(t);t.code;e.error=t.message})}},created:function(){$("#sub").tooltip()}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,i=a(2),n=a(6),r=a.n(n);t.default={name:"media-manager",props:["pageKey"],data:function(){return{tmpFileData:{},currentFile:i.a.getEmptyFile(),files:[]}},methods:{addFile:function(){var e=this.currentFile;e.name=this.tmpFileData.name,i.a.storage.child(e.name).putString(this.tmpFileData.data,"data_url").then(function(t){e.url=t.downloadURL,s.push(e),i.a.getEmptyFile()})},removeFile:function(e){i.a.storage.child(e.name).delete().then(function(){s.child(e.key).remove(),r.a.success("File removed successfully")}).catch(function(e){})},copyToClipboard:function(e){var t=e.url,a=$("<input>");$("body").append(a),a.val(t).select(),document.execCommand("copy"),a.remove()},onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&this.createFile(t[0])},createFile:function(e){var t=this,a=new FileReader;this.tmpFileData={},a.onload=function(a){t.tmpFileData.name=e.name,t.tmpFileData.data=a.target.result},a.readAsDataURL(e)}},created:function(){var e=this;s=i.a.db.ref("pages/"+this.pageKey+"/files"),s.on("value",function(t){e.files=[],t.forEach(function(t){var a=t.val();a.key=t.key,e.files.push(a)})})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),i=a(6),n=a.n(i),r=a(0),l=a.n(r),c=a(124),o=a.n(c),u=a(168),d=a.n(u),f=a(166),v=a.n(f),p=a(123),g=a.n(p);t.default={name:"page-edit",firebase:{pages:s.a.db.ref("pages")},data:function(){return{key:this.$route.params.page_id,currentPage:s.a.getEmptyPage(),title:"",stringToSlug:""}},components:{HeaderBack:g.a,SlugField:o.a,SliceManager:d.a,FileManager:v.a},created:function(){var e=this;n.a.info(s.a.errorMessages.LOADING),this.$firebaseRefs.pages.child(this.key).once("value").then(function(t){var a=t.val();e.currentPage=a,e.title=e.currentPage.title,e.stringToSlug=e.currentPage.slug,n.a.clear()})},methods:{updatePageSlug:function(e){this.currentPage.slug=e},editPage:function(){this.currentPage.updated=l()().format("x"),this.$firebaseRefs.pages.child(this.key).set(this.currentPage),n.a.success(s.a.errorMessages.PAGE_EDITED)},validate:function(){var e=this;this.$firebaseRefs.pages.orderByChild("slug").equalTo(this.currentPage.slug).once("value").then(function(t){var a=t.exists(),i=!1;t.forEach(function(t){t.key==e.key&&(i=!0)}),a&&!i?n.a.error(s.a.errorMessages.SLUG_EXIST):e.editPage()})},updatePageData:function(e){this.currentPage=e}},watch:{title:{handler:function(){this.currentPage.title=this.title,this.stringToSlug=this.title},sync:!0}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,i=a(2),n=a(6),r=a.n(n);t.default={name:"slice-manager",props:["pageKey"],firebase:{pages:i.a.db.ref("pages")},data:function(){return{sliceKey:!1,modalTitle:"New Slice",currentSlice:i.a.getEmptySlice(),draggedSlices:[],slices:[]}},methods:{saveSlice:function(){if(this.sliceKey)s.child(this.sliceKey).set(this.currentSlice,function(t){e.refreshSliceView(),e.resetSlice()}),r.a.success(i.a.errorMessages.SLICE_EDITED);else{var e=this;this.currentSlice.index=this.draggedSlices.length,s.push(this.currentSlice,function(t){e.refreshSliceView(),e.resetSlice()}),r.a.success(i.a.errorMessages.SLICE_ADDED)}$("#sliceModal").modal("toggle"),this.dispatchUpdatedPage()},resetSlice:function(){this.sliceKey=!1,this.modalTitle="New Slice",this.currentSlice=i.a.getEmptySlice()},editSlice:function(e,t){this.currentSlice=e,this.sliceKey=t,this.modalTitle="Edit Slice: "+t,this.content=e.content,$("#sliceModal").modal("toggle")},removeSlice:function(e,t){var a=this;s.child(t).remove(function(e){a.draggedSlices.splice(a.draggedSlices.indexOf(t),1),a.updateDragIndex(!0)}),r.a.success(i.a.errorMessages.SLICE_REMOVED),this.dispatchUpdatedPage()},onDragSlice:function(e){this.draggedSlices.splice(e.newIndex,0,this.draggedSlices.splice(e.oldIndex,1)[0]),this.updateDragIndex(!1)},updateDragIndex:function(e){for(var t=this,a={},s=0;s<this.draggedSlices.length;s++){var n=this.draggedSlices[s];a[this.pageKey+"/slices/"+n+"/index"]=s}i.a.db.ref("pages").update(a,function(a){e&&t.refreshSliceView()})},dispatchUpdatedPage:function(){var e=this;i.a.db.ref("pages/"+this.pageKey).on("value",function(t){var a=t.val();e.$emit("update",a)})},onChangeContent:function(e){this.currentSlice.content=e},refreshSliceView:function(){var e=this;s.orderByChild("index").once("value",function(t){e.slices=[],e.draggedSlices=[],t.forEach(function(t){var a=t.key,s=t.val();s.sliceKey=a,e.slices.push(s),e.draggedSlices.push(a)})})}},created:function(){s=i.a.db.ref("pages/"+this.pageKey+"/slices"),this.refreshSliceView()}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),i=a(5),n=a.n(i);t.default={name:"Home",firebase:{pages:s.a.db.ref("pages")},data:function(){return{title:s.a.PROJECT_NAME,isUser:!1}},methods:{goToAdmin:function(){this.$router.push("/admin")}},created:function(){var e=n.a.auth().currentUser;this.isUser=!!e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),i=a(5),n=a.n(i);t.default={name:"page-edit",firebase:{pages:s.a.db.ref("pages")},data:function(){return{title:s.a.PROJECT_NAME,slug:this.$route.params.page_slug,page:{},key:"",slices:[],isUser:!1}},methods:{editPage:function(e){this.$router.push("/admin/edit/"+this.key)},refreshSliceView:function(){var e=this;s.a.db.ref("pages/"+this.key+"/slices").orderByChild("index").once("value",function(t){e.slices=[],t.forEach(function(t){var a=t.key,s=t.val();s.sliceKey=a,e.slices.push(s)})})}},created:function(){var e=this;this.$firebaseRefs.pages.orderByChild("slug").equalTo(this.slug).on("value",function(t){t.exists()?t.forEach(function(t){e.page=t.val(),e.key=t.key,e.refreshSliceView()}):console.log("no page")});var t=n.a.auth().currentUser;this.isUser=!!t}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(7),i=a(128),n=a.n(i),r=a(129),l=a.n(r),c=a(125),o=a(0),u=a.n(o),d=a(127),f=a.n(d),v=a(126),p=a.n(v);s.a.directive("sortable",{inserted:function(e,t){new p.a(e,t.value||{})}});var g={name:"vue-html5-editor",showModuleName:!1,icons:{text:"fa fa-pencil",color:"fa fa-paint-brush",font:"fa fa-font",align:"fa fa-align-justify",list:"fa fa-list",link:"fa fa-chain",unlink:"fa fa-chain-broken",tabulation:"fa fa-table",image:"fa fa-file-image-o",hr:"fa fa-minus",eraser:"fa fa-eraser",undo:"fa-undo fa","full-screen":"fa fa-arrows-alt",info:"fa fa-info"},image:{sizeLimit:524288,upload:{url:null,headers:{},params:{},fieldName:{}},compress:{width:1600,height:1600,quality:80},uploadHandler:function(e){var t=JSON.parse(e);if(t.ok)return t.data;alert(t.msg)}},hiddenModules:["font-name"],visibleModules:["text","align","list","link","unlink","image","eraser","undo"],modules:{}};s.a.use(f.a,g),s.a.config.productionTip=!1,s.a.use(l.a),s.a.filter("timestampToDate",function(e){return u()(e,"x").format("DD/MM/YYYY - HH:mm")});new s.a({el:"#app",router:c.a,template:"<App/>",components:{App:n.a},mounted:function(){$('[data-toggle="tooltip"]').tooltip()}})},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,function(e,t,a){function s(e){return a(i(e))}function i(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var n={"./af":8,"./af.js":8,"./ar":15,"./ar-dz":9,"./ar-dz.js":9,"./ar-kw":10,"./ar-kw.js":10,"./ar-ly":11,"./ar-ly.js":11,"./ar-ma":12,"./ar-ma.js":12,"./ar-sa":13,"./ar-sa.js":13,"./ar-tn":14,"./ar-tn.js":14,"./ar.js":15,"./az":16,"./az.js":16,"./be":17,"./be.js":17,"./bg":18,"./bg.js":18,"./bn":19,"./bn.js":19,"./bo":20,"./bo.js":20,"./br":21,"./br.js":21,"./bs":22,"./bs.js":22,"./ca":23,"./ca.js":23,"./cs":24,"./cs.js":24,"./cv":25,"./cv.js":25,"./cy":26,"./cy.js":26,"./da":27,"./da.js":27,"./de":30,"./de-at":28,"./de-at.js":28,"./de-ch":29,"./de-ch.js":29,"./de.js":30,"./dv":31,"./dv.js":31,"./el":32,"./el.js":32,"./en-au":33,"./en-au.js":33,"./en-ca":34,"./en-ca.js":34,"./en-gb":35,"./en-gb.js":35,"./en-ie":36,"./en-ie.js":36,"./en-nz":37,"./en-nz.js":37,"./eo":38,"./eo.js":38,"./es":40,"./es-do":39,"./es-do.js":39,"./es.js":40,"./et":41,"./et.js":41,"./eu":42,"./eu.js":42,"./fa":43,"./fa.js":43,"./fi":44,"./fi.js":44,"./fo":45,"./fo.js":45,"./fr":48,"./fr-ca":46,"./fr-ca.js":46,"./fr-ch":47,"./fr-ch.js":47,"./fr.js":48,"./fy":49,"./fy.js":49,"./gd":50,"./gd.js":50,"./gl":51,"./gl.js":51,"./gom-latn":52,"./gom-latn.js":52,"./he":53,"./he.js":53,"./hi":54,"./hi.js":54,"./hr":55,"./hr.js":55,"./hu":56,"./hu.js":56,"./hy-am":57,"./hy-am.js":57,"./id":58,"./id.js":58,"./is":59,"./is.js":59,"./it":60,"./it.js":60,"./ja":61,"./ja.js":61,"./jv":62,"./jv.js":62,"./ka":63,"./ka.js":63,"./kk":64,"./kk.js":64,"./km":65,"./km.js":65,"./kn":66,"./kn.js":66,"./ko":67,"./ko.js":67,"./ky":68,"./ky.js":68,"./lb":69,"./lb.js":69,"./lo":70,"./lo.js":70,"./lt":71,"./lt.js":71,"./lv":72,"./lv.js":72,"./me":73,"./me.js":73,"./mi":74,"./mi.js":74,"./mk":75,"./mk.js":75,"./ml":76,"./ml.js":76,"./mr":77,"./mr.js":77,"./ms":79,"./ms-my":78,"./ms-my.js":78,"./ms.js":79,"./my":80,"./my.js":80,"./nb":81,"./nb.js":81,"./ne":82,"./ne.js":82,"./nl":84,"./nl-be":83,"./nl-be.js":83,"./nl.js":84,"./nn":85,"./nn.js":85,"./pa-in":86,"./pa-in.js":86,"./pl":87,"./pl.js":87,"./pt":89,"./pt-br":88,"./pt-br.js":88,"./pt.js":89,"./ro":90,"./ro.js":90,"./ru":91,"./ru.js":91,"./sd":92,"./sd.js":92,"./se":93,"./se.js":93,"./si":94,"./si.js":94,"./sk":95,"./sk.js":95,"./sl":96,"./sl.js":96,"./sq":97,"./sq.js":97,"./sr":99,"./sr-cyrl":98,"./sr-cyrl.js":98,"./sr.js":99,"./ss":100,"./ss.js":100,"./sv":101,"./sv.js":101,"./sw":102,"./sw.js":102,"./ta":103,"./ta.js":103,"./te":104,"./te.js":104,"./tet":105,"./tet.js":105,"./th":106,"./th.js":106,"./tl-ph":107,"./tl-ph.js":107,"./tlh":108,"./tlh.js":108,"./tr":109,"./tr.js":109,"./tzl":110,"./tzl.js":110,"./tzm":112,"./tzm-latn":111,"./tzm-latn.js":111,"./tzm.js":112,"./uk":113,"./uk.js":113,"./ur":114,"./ur.js":114,"./uz":116,"./uz-latn":115,"./uz-latn.js":115,"./uz.js":116,"./vi":117,"./vi.js":117,"./x-pseudo":118,"./x-pseudo.js":118,"./yo":119,"./yo.js":119,"./zh-cn":120,"./zh-cn.js":120,"./zh-hk":121,"./zh-hk.js":121,"./zh-tw":122,"./zh-tw.js":122};s.keys=function(){return Object.keys(n)},s.resolve=i,e.exports=s,s.id=161},function(e,t,a){a(155);var s=a(1)(a(133),a(182),"data-v-fcb8c3c4",null);e.exports=s.exports},function(e,t,a){a(151);var s=a(1)(a(134),a(178),"data-v-7ecb2da3",null);e.exports=s.exports},function(e,t,a){a(152);var s=a(1)(a(135),a(179),"data-v-9a7f57f6",null);e.exports=s.exports},function(e,t,a){a(153);var s=a(1)(a(136),a(180),"data-v-af47d9ea",null);e.exports=s.exports},function(e,t,a){a(154);var s=a(1)(a(137),a(181),"data-v-b4ee705c",null);e.exports=s.exports},function(e,t,a){a(143);var s=a(1)(a(138),a(171),"data-v-01b554c8",null);e.exports=s.exports},function(e,t,a){a(147),a(146);var s=a(1)(a(139),a(174),"data-v-2967acca",null);e.exports=s.exports},function(e,t,a){a(149);var s=a(1)(a(140),a(176),"data-v-7ae2d596",null);e.exports=s.exports},function(e,t,a){a(148);var s=a(1)(a(141),a(175),"data-v-5a82feac",null);e.exports=s.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-edit container"},[a("div",{staticClass:"row container"},[a("header-back")],1),e._v(" "),a("div",{staticClass:"col col-md-5"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("strong",[e._v("Edit Page #"+e._s(e.key))])]),e._v(" "),a("div",{staticClass:"panel-body"},[a("form",{staticClass:"form",attrs:{id:"form-create"},on:{submit:function(t){t.preventDefault(),e.validate(t)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"pageTitle"}},[e._v("Title:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"pageTitle"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})]),e._v(" "),a("slug-field",{attrs:{"string-to-slug":e.stringToSlug},on:{update:e.updatePageSlug}}),e._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentPage.published,expression:"currentPage.published"}],attrs:{type:"checkbox",id:"pagePublished"},domProps:{checked:Array.isArray(e.currentPage.published)?e._i(e.currentPage.published,null)>-1:e.currentPage.published},on:{__c:function(t){var a=e.currentPage.published,s=t.target,i=!!s.checked;if(Array.isArray(a)){var n=e._i(a,null);i?n<0&&(e.currentPage.published=a.concat(null)):n>-1&&(e.currentPage.published=a.slice(0,n).concat(a.slice(n+1)))}else e.currentPage.published=i}}}),e._v(" "),a("label",{attrs:{for:"pagePublished"}},[e._v("Published")]),e._v(" | \n\t\t\t\t\t\t"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentPage.locked,expression:"currentPage.locked"}],attrs:{type:"checkbox",id:"pageLocked"},domProps:{checked:Array.isArray(e.currentPage.locked)?e._i(e.currentPage.locked,null)>-1:e.currentPage.locked},on:{__c:function(t){var a=e.currentPage.locked,s=t.target,i=!!s.checked;if(Array.isArray(a)){var n=e._i(a,null);i?n<0&&(e.currentPage.locked=a.concat(null)):n>-1&&(e.currentPage.locked=a.slice(0,n).concat(a.slice(n+1)))}else e.currentPage.locked=i}}}),e._v(" "),a("label",{attrs:{for:"pageLocked"}},[e._v("Locked")])]),e._v(" "),a("div",{staticClass:"form-group dates"},[a("p",[a("strong",[e._v("Created:")]),e._v(" "+e._s(e._f("timestampToDate")(e.currentPage.created))),a("br"),e._v(" "),a("strong",[e._v("Last update:")]),e._v("  "+e._s(e._f("timestampToDate")(e.currentPage.updated)))])]),e._v(" "),a("div",{staticClass:"form-group"},[a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"/ Edit"}}),e._v(" "),a("router-link",{staticClass:"btn btn-info",attrs:{to:{path:"/page/"+e.currentPage.slug}}},[a("i",{staticClass:"fa fa-eye",attrs:{"aria-hidden":"true"}}),e._v(" Preview")])],1)],1)])]),e._v(" "),a("file-manager",{attrs:{"page-key":e.key}})],1),e._v(" "),a("div",{staticClass:"col col-md-7"},[a("slice-manager",{attrs:{"page-key":e.key},on:{update:e.updatePageData}})],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"slugField"}},[e._v("Slug:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.slug,expression:"slug"}],staticClass:"form-control",attrs:{type:"text",id:"slugField"},domProps:{value:e.slug},on:{input:function(t){t.target.composing||(e.slug=t.target.value)}}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-default"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"navbar-header"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/admin"}},[e._v("\n\t\t    "+e._s(e.title)+"\n\t\t  ")])],1),e._v(" "),a("ul",{staticClass:"nav navbar-nav navbar-right"},[a("li",{staticClass:"dropdown"},[a("a",{staticClass:"dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[e._v(e._s(e.email)),a("span",{staticClass:"caret"})]),e._v(" "),a("ul",{staticClass:"dropdown-menu"},[a("li",[a("router-link",{attrs:{to:"/"}},[e._v("Home Front")])],1),e._v(" "),a("li",[a("router-link",{attrs:{to:"/admin"}},[e._v("Home Admin")])],1),e._v(" "),a("li",{staticClass:"divider",attrs:{role:"separator"}}),e._v(" "),a("li",[a("a",{on:{click:e.signOut}},[e._v("Sign out")])])])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel panel-default"},[e._m(0),e._v(" "),a("div",{staticClass:"panel-body"},[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#sliceModal"},on:{click:e.resetSlice}},[e._v("+ Add Slice")]),e._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"sliceModal",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[e._m(1),e._v(" "),a("h4",{staticClass:"modal-title"},[e._v(e._s(e.modalTitle))])]),e._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"sliceCSSClass"}},[e._v("Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSlice.name,expression:"currentSlice.name"}],attrs:{type:"text",id:"sliceCSSClass"},domProps:{value:e.currentSlice.name},on:{input:function(t){t.target.composing||(e.currentSlice.name=t.target.value)}}})]),e._v(" "),e._m(2),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:"html-editor"}},[a("vue-html5-editor",{attrs:{content:e.currentSlice.content,height:200,"z-index":1e3,"auto-height":!0,"show-module-name":!1},on:{change:e.onChangeContent}})],1),e._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"html-source"}},[a("label",[e._v("HTML code only :")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentSlice.content,expression:"currentSlice.content"}],staticClass:"form-control",attrs:{rows:"10"},domProps:{value:e.currentSlice.content},on:{input:function(t){t.target.composing||(e.currentSlice.content=t.target.value)}}})])]),e._v(" "),a("hr"),e._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSlice.visible,expression:"currentSlice.visible"}],attrs:{type:"checkbox",id:"sliceVisible"},domProps:{checked:Array.isArray(e.currentSlice.visible)?e._i(e.currentSlice.visible,null)>-1:e.currentSlice.visible},on:{__c:function(t){var a=e.currentSlice.visible,s=t.target,i=!!s.checked;if(Array.isArray(a)){var n=e._i(a,null);i?n<0&&(e.currentSlice.visible=a.concat(null)):n>-1&&(e.currentSlice.visible=a.slice(0,n).concat(a.slice(n+1)))}else e.currentSlice.visible=i}}}),e._v(" "),a("label",{attrs:{for:"sliceVisible"}},[e._v("Visible")])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"sliceCSSClass"}},[e._v("CSS Class")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSlice.css_class,expression:"currentSlice.css_class"}],attrs:{type:"text",id:"sliceCSSClass"},domProps:{value:e.currentSlice.css_class},on:{input:function(t){t.target.composing||(e.currentSlice.css_class=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSlice.locked,expression:"currentSlice.locked"}],attrs:{type:"checkbox",id:"sliceLocked"},domProps:{checked:Array.isArray(e.currentSlice.locked)?e._i(e.currentSlice.locked,null)>-1:e.currentSlice.locked},on:{__c:function(t){var a=e.currentSlice.locked,s=t.target,i=!!s.checked;if(Array.isArray(a)){var n=e._i(a,null);i?n<0&&(e.currentSlice.locked=a.concat(null)):n>-1&&(e.currentSlice.locked=a.slice(0,n).concat(a.slice(n+1)))}else e.currentSlice.locked=i}}}),e._v(" "),a("label",{attrs:{for:"sliceLocked"}},[e._v("Locked")])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Close")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.saveSlice}},[e._v("Save")])])])])]),e._v(" "),a("hr"),e._v(" "),a("div",{directives:[{name:"sortable",rawName:"v-sortable",value:{handle:".handle",onUpdate:e.onDragSlice},expression:"{ handle: '.handle', onUpdate: onDragSlice }"}],staticClass:"panel-group list-group",attrs:{id:"slices"}},e._l(e.slices,function(t,s){return a("div",{staticClass:"panel panel-default list-group-item"},[a("div",{staticClass:"panel-heading"},[a("h4",{staticClass:"panel-title"},[e._m(3,!0),e._v(" "),""!=t.name&&t.name?a("a",{attrs:{"data-toggle":"collapse","data-parent":"#slices",href:"#"+t.sliceKey}},[e._v("\n                    "+e._s(t.name)+"\n                  ")]):a("a",{attrs:{"data-toggle":"collapse","data-parent":"#slices",href:"#"+t.sliceKey}},[e._v("\n                    Slice #"+e._s(t.sliceKey)+"\n                  ")]),e._v(" "),a("a",{staticClass:"action",class:{disabled:t.locked},on:{click:function(a){e.removeSlice(t,t.sliceKey)}}},[a("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})]),e._v(" "),a("a",{staticClass:"action",on:{click:function(a){e.editSlice(t,t.sliceKey)}}},[a("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})])])]),e._v(" "),a("div",{staticClass:"panel-collapse collapse",attrs:{id:t.sliceKey}},[a("div",{staticClass:"panel-body"},[a("p",{domProps:{innerHTML:e._s(t.content)}})])])])}))])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel-heading"},[a("strong",[e._v("Slices")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"nav nav-tabs"},[a("li",{staticClass:"active"},[a("a",{attrs:{"data-toggle":"tab",href:"#html-editor"}},[e._v("HTML: editor")])]),e._v(" "),a("li",[a("a",{attrs:{"data-toggle":"tab",href:"#html-source"}},[e._v("HTML: source")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"action handle"},[a("i",{staticClass:"fa fa-bars handle",attrs:{"aria-hidden":"true"}})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-view front"},[a("router-link",{staticClass:"btn logo",attrs:{to:"/"}},[e._v(e._s(e.title))]),e._v(" "),e.isUser?a("button",{staticClass:"btn btn-primary action",on:{click:function(t){e.editPage(e.page)}}},[e._v("Edit Page "),a("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})]):e._e(),e._v(" "),a("h1",{staticClass:"title"},[e._v(e._s(e.page.title))]),e._v(" "),a("div",{attrs:{id:"slices"}},e._l(e.slices,function(t,s){return t.visible?a("div",{class:t.css_class},[a("p",{domProps:{innerHTML:e._s(t.content)}})]):e._e()}))],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home front"},[e.isUser?a("button",{staticClass:"btn btn-primary action right",on:{click:function(t){e.goToAdmin(e.page)}}},[e._v("Admin "),a("i",{staticClass:"fa fa-home",attrs:{"aria-hidden":"true"}})]):e._e(),e._v(" "),a("router-link",{staticClass:"btn logo",attrs:{to:"/"}},[e._v(e._s(e.title))]),e._v(" "),a("ul",{staticClass:"nav"},e._l(e.pages,function(t){return a("li",[a("router-link",{attrs:{to:"page/"+t.slug}},[e._v(e._s(t.title))])],1)}))],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel panel-default"},[e._m(0),e._v(" "),a("div",{staticClass:"panel-body"},[a("form",{staticClass:"form",attrs:{id:"form-create"},on:{submit:function(t){t.preventDefault(),e.validate(t)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"pageTitle"}},[e._v("Title:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"pageTitle"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})]),e._v(" "),a("slug-field",{attrs:{"string-to-slug":e.stringToSlug},on:{update:e.updatePageSlug}}),e._v(" "),a("input",{staticClass:"btn btn-primary",class:{disabled:!e.active},attrs:{type:"submit",value:"+ Create"}})],1)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel-heading"},[a("strong",[e._v("New Page")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel panel-default"},[e._m(0),e._v(" "),a("div",{staticClass:"panel-body"},[a("table",{staticClass:"table table-striped"},[e._m(1),e._v(" "),a("tbody",e._l(e.pages,function(t){return a("tr",[a("td",[a("router-link",{attrs:{to:"page/"+t.slug}},[e._v(e._s(t.title))])],1),e._v(" "),a("td",[e._v(e._s(t.slug))]),e._v(" "),a("td",[e._v(e._s(t.type))]),e._v(" "),a("td",{staticClass:"hidden-xs"},[e._v(e._s(e._f("timestampToDate")(t.created)))]),e._v(" "),a("td",{staticClass:"hidden-xs"},[e._v(e._s(e._f("timestampToDate")(t.updated)))]),e._v(" "),a("td",[e._v(e._s(t.published))]),e._v(" "),a("td",{staticClass:"action",on:{click:function(a){e.clonePage(t)}}},[a("i",{staticClass:"fa fa-clone",attrs:{"aria-hidden":"true"}})]),e._v(" "),a("td",{staticClass:"action",on:{click:function(a){e.editPage(t)}}},[a("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})]),e._v(" "),a("td",{staticClass:"action",class:{disabled:t.locked},on:{click:function(a){e.removePage(t)}}},[a("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})])])}))])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel-heading"},[a("strong",[e._v("Pages")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Title")]),e._v(" "),a("th",[e._v("Slug")]),e._v(" "),a("th",[e._v("Type")]),e._v(" "),a("th",{staticClass:"hidden-xs"},[e._v("Created")]),e._v(" "),a("th",{staticClass:"hidden-xs"},[e._v("Updated")]),e._v(" "),a("th",[e._v("Published")]),e._v(" "),a("th"),e._v(" "),a("th"),e._v(" "),a("th")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-6 col-md-offset-3"},[a("h2",[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"panel panel-default "},[e._m(0),e._v(" "),a("div",{staticClass:"panel-body"},[a("form",{staticClass:"form",attrs:{id:"form-login"},on:{submit:function(t){t.preventDefault(),e.login(t)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"login"}},[e._v("Email:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",id:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"pwd"}},[e._v("Password:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd,expression:"pwd"}],staticClass:"form-control",attrs:{type:"password",id:"pwd"},domProps:{value:e.pwd},on:{input:function(t){t.target.composing||(e.pwd=t.target.value)}}})]),e._v(" "),a("input",{staticClass:"btn btn-primary",attrs:{id:"sub",type:"submit",value:"> Login"}}),e._v(" "),a("br"),e._v(" "),""!==e.error?a("div",{staticClass:"alert alert-danger alert-dismissible"},[e._v("\n\t\t\t  "+e._s(e.error)+"\n\t\t\t")]):e._e()])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel-heading"},[a("strong",[e._v("Login")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"file-manager"},[a("div",{staticClass:"panel panel-default"},[e._m(0),e._v(" "),a("div",{staticClass:"panel-body"},[a("form",{staticClass:"form",attrs:{id:"form"},on:{submit:function(t){t.preventDefault(),e.addFile(t)}}},[a("div",{staticClass:"form-group"},[a("input",{staticClass:"form-control",attrs:{type:"file",id:"fileBrowser"},on:{change:e.onFileChange}})]),e._v(" "),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"+ Add"}})]),e._v(" "),a("hr"),e._v(" "),a("table",{staticClass:"table table-striped"},[e._m(1),e._v(" "),a("tbody",e._l(e.files,function(t){return a("tr",[a("td",[a("a",{attrs:{target:"_blank",href:t.url}},[e._v(e._s(t.name))])]),e._v(" "),a("td",{staticClass:"action",on:{click:function(a){e.removeFile(t)}}},[a("i",{staticClass:"fa fa-trash fa-fw",attrs:{"aria-hidden":"true"}})]),e._v(" "),a("td",{staticClass:"action",on:{click:function(a){e.copyToClipboard(t)}}},[a("i",{staticClass:"fa fa-clipboard fa-fw",attrs:{"aria-hidden":"true"}})])])}))])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel-heading"},[a("strong",[e._v("Files")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Files")]),e._v(" "),a("th"),e._v(" "),a("th")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-back container"},[a("header-back"),e._v(" "),a("div",{staticClass:"col col-md-3"},[a("page-create")],1),e._v(" "),a("div",{staticClass:"col col-md-9"},[a("page-list")],1)],1)},staticRenderFns:[]}}],[142]);
//# sourceMappingURL=app.b89fbee03c1e40cb248d.js.map